<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.125.7"><meta name=description content><link rel="shortcut icon" href=https://aristanetworks.github.io/cloudvision-apis//images/favicon.ico type=image/x-icon><title>Events :: Arista Networks FMP APIs</title>
<link href=/cloudvision-apis/css/nucleus.css?1715208248 rel=stylesheet><link href=/cloudvision-apis/css/fontawesome-all.min.css?1715208248 rel=stylesheet><link href=/cloudvision-apis/css/hybrid.css?1715208248 rel=stylesheet><link href=/cloudvision-apis/css/featherlight.min.css?1715208248 rel=stylesheet><link href=/cloudvision-apis/css/perfect-scrollbar.min.css?1715208248 rel=stylesheet><link href=/cloudvision-apis/css/auto-complete.css?1715208248 rel=stylesheet><link href=/cloudvision-apis/css/atom-one-dark-reasonable.css?1715208248 rel=stylesheet><link href=/cloudvision-apis/css/theme.css?1715208248 rel=stylesheet><link href=/cloudvision-apis/css/hugo-theme.css?1715208248 rel=stylesheet><link href=/cloudvision-apis/css/theme-arista.css?1715208248 rel=stylesheet><script src=/cloudvision-apis/js/jquery-3.3.1.min.js?1715208248></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/cloudvision-apis/examples/rest/events/><nav id=sidebar><div id=header-wrapper><div id=header><a href=https://aristanetworks.github.io/cloudvision-apis/><img src=https://aristanetworks.github.io/cloudvision-apis//images/logo_arista.png alt></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/cloudvision-apis/js/lunr.min.js?1715208248></script><script type=text/javascript src=/cloudvision-apis/js/auto-complete.js?1715208248></script><script type=text/javascript>var baseurl="https://aristanetworks.github.io/cloudvision-apis/"</script><script type=text/javascript src=/cloudvision-apis/js/search.js?1715208248></script></div><div class=highlightable><ul class=topics><li data-nav-id=/cloudvision-apis/modeling/ title=Modeling class=dd-item><a href=/cloudvision-apis/modeling/>Modeling</a></li><li data-nav-id=/cloudvision-apis/rpcs/ title="Uniform RPCs" class=dd-item><a href=/cloudvision-apis/rpcs/>Uniform RPCs</a><ul><li data-nav-id=/cloudvision-apis/rpcs/errors/ title="Error Handling" class=dd-item><a href=/cloudvision-apis/rpcs/errors/><b>- </b>Error Handling</a></li><li data-nav-id=/cloudvision-apis/rpcs/filtering/ title=Filtering class=dd-item><a href=/cloudvision-apis/rpcs/filtering/><b>- </b>Filtering</a></li><li data-nav-id=/cloudvision-apis/rpcs/getone/ title=GetOne class=dd-item><a href=/cloudvision-apis/rpcs/getone/><b>a. </b>GetOne</a></li><li data-nav-id=/cloudvision-apis/rpcs/getall/ title=GetAll class=dd-item><a href=/cloudvision-apis/rpcs/getall/><b>b. </b>GetAll</a></li><li data-nav-id=/cloudvision-apis/rpcs/subscribe/ title=Subscribe class=dd-item><a href=/cloudvision-apis/rpcs/subscribe/><b>c. </b>Subscribe</a></li><li data-nav-id=/cloudvision-apis/rpcs/set/ title=Set class=dd-item><a href=/cloudvision-apis/rpcs/set/><b>d. </b>Set</a></li><li data-nav-id=/cloudvision-apis/rpcs/delete/ title=Delete class=dd-item><a href=/cloudvision-apis/rpcs/delete/><b>e. </b>Delete</a></li></ul></li><li data-nav-id=/cloudvision-apis/connecting/ title=Connecting class=dd-item><a href=/cloudvision-apis/connecting/>Connecting</a></li><li data-nav-id=/cloudvision-apis/clients/ title=Clients class=dd-item><a href=/cloudvision-apis/clients/>Clients</a><ul><li data-nav-id=/cloudvision-apis/clients/existing/ title="Existing Clients" class=dd-item><a href=/cloudvision-apis/clients/existing/>Existing Clients</a></li><li data-nav-id=/cloudvision-apis/clients/creating/ title="Creating a Client" class=dd-item><a href=/cloudvision-apis/clients/creating/>Creating a Client</a></li></ul></li><li data-nav-id=/cloudvision-apis/examples/ title=Examples class="dd-item
parent"><a href=/cloudvision-apis/examples/>Examples</a><ul><li data-nav-id=/cloudvision-apis/examples/grpc/ title=gRPC class=dd-item><a href=/cloudvision-apis/examples/grpc/>gRPC</a></li><li data-nav-id=/cloudvision-apis/examples/rest/ title="REST API Examples" class="dd-item
parent"><a href=/cloudvision-apis/examples/rest/>REST API Examples</a><ul><li data-nav-id=/cloudvision-apis/examples/rest/bugexposure/ title=Bugexposure class=dd-item><a href=/cloudvision-apis/examples/rest/bugexposure/>Bugexposure</a></li><li data-nav-id=/cloudvision-apis/examples/rest/changecontrol/ title="Change Control" class=dd-item><a href=/cloudvision-apis/examples/rest/changecontrol/>Change Control</a></li><li data-nav-id=/cloudvision-apis/examples/rest/dashboard/ title=Dashboard class=dd-item><a href=/cloudvision-apis/examples/rest/dashboard/>Dashboard</a></li><li data-nav-id=/cloudvision-apis/examples/rest/endpointlocation/ title=Endpointlocation class=dd-item><a href=/cloudvision-apis/examples/rest/endpointlocation/>Endpointlocation</a></li><li data-nav-id=/cloudvision-apis/examples/rest/events/ title=Events class="dd-item
active"><a href=/cloudvision-apis/examples/rest/events/>Events</a></li><li data-nav-id=/cloudvision-apis/examples/rest/inventory/ title=Inventory class=dd-item><a href=/cloudvision-apis/examples/rest/inventory/>Inventory</a></li><li data-nav-id=/cloudvision-apis/examples/rest/lifecycle/ title=Lifecycle class=dd-item><a href=/cloudvision-apis/examples/rest/lifecycle/>Lifecycle</a></li><li data-nav-id=/cloudvision-apis/examples/rest/studios-and-workspaces/ title="Studios and Workspaces" class=dd-item><a href=/cloudvision-apis/examples/rest/studios-and-workspaces/>Studios and Workspaces</a></li><li data-nav-id=/cloudvision-apis/examples/rest/tag/ title=Tags class=dd-item><a href=/cloudvision-apis/examples/rest/tag/>Tags</a></li></ul></li></ul></li><li data-nav-id=/cloudvision-apis/models/ title=Models class=dd-item><a href=/cloudvision-apis/models/>Models</a><ul><li data-nav-id=/cloudvision-apis/models/alert.v1/ title=alert.v1 class=dd-item><a href=/cloudvision-apis/models/alert.v1/>alert.v1</a></li><li data-nav-id=/cloudvision-apis/models/bugexposure.v1/ title=bugexposure.v1 class=dd-item><a href=/cloudvision-apis/models/bugexposure.v1/>bugexposure.v1</a></li><li data-nav-id=/cloudvision-apis/models/changecontrol.v1/ title=changecontrol.v1 class=dd-item><a href=/cloudvision-apis/models/changecontrol.v1/>changecontrol.v1</a></li><li data-nav-id=/cloudvision-apis/models/configlet.v1/ title=configlet.v1 class=dd-item><a href=/cloudvision-apis/models/configlet.v1/>configlet.v1</a></li><li data-nav-id=/cloudvision-apis/models/configstatus.v1/ title=configstatus.v1 class=dd-item><a href=/cloudvision-apis/models/configstatus.v1/>configstatus.v1</a></li><li data-nav-id=/cloudvision-apis/models/connectivitymonitor.v1/ title=connectivitymonitor.v1 class=dd-item><a href=/cloudvision-apis/models/connectivitymonitor.v1/>connectivitymonitor.v1</a></li><li data-nav-id=/cloudvision-apis/models/dashboard.v1/ title=dashboard.v1 class=dd-item><a href=/cloudvision-apis/models/dashboard.v1/>dashboard.v1</a></li><li data-nav-id=/cloudvision-apis/models/endpointlocation.v1/ title=endpointlocation.v1 class=dd-item><a href=/cloudvision-apis/models/endpointlocation.v1/>endpointlocation.v1</a></li><li data-nav-id=/cloudvision-apis/models/event.v1/ title=event.v1 class=dd-item><a href=/cloudvision-apis/models/event.v1/>event.v1</a></li><li data-nav-id=/cloudvision-apis/models/identityprovider.v1/ title=identityprovider.v1 class=dd-item><a href=/cloudvision-apis/models/identityprovider.v1/>identityprovider.v1</a></li><li data-nav-id=/cloudvision-apis/models/imagestatus.v1/ title=imagestatus.v1 class=dd-item><a href=/cloudvision-apis/models/imagestatus.v1/>imagestatus.v1</a></li><li data-nav-id=/cloudvision-apis/models/inventory.v1/ title=inventory.v1 class=dd-item><a href=/cloudvision-apis/models/inventory.v1/>inventory.v1</a></li><li data-nav-id=/cloudvision-apis/models/lifecycle.v1/ title=lifecycle.v1 class=dd-item><a href=/cloudvision-apis/models/lifecycle.v1/>lifecycle.v1</a></li><li data-nav-id=/cloudvision-apis/models/redirector.v1/ title=redirector.v1 class=dd-item><a href=/cloudvision-apis/models/redirector.v1/>redirector.v1</a></li><li data-nav-id=/cloudvision-apis/models/serviceaccount.v1/ title=serviceaccount.v1 class=dd-item><a href=/cloudvision-apis/models/serviceaccount.v1/>serviceaccount.v1</a></li><li data-nav-id=/cloudvision-apis/models/studio.v1/ title=studio.v1 class=dd-item><a href=/cloudvision-apis/models/studio.v1/>studio.v1</a></li><li data-nav-id=/cloudvision-apis/models/tag.v1/ title=tag.v1 class=dd-item><a href=/cloudvision-apis/models/tag.v1/>tag.v1</a></li><li data-nav-id=/cloudvision-apis/models/tag.v2/ title=tag.v2 class=dd-item><a href=/cloudvision-apis/models/tag.v2/>tag.v2</a></li><li data-nav-id=/cloudvision-apis/models/workspace.v1/ title=workspace.v1 class=dd-item><a href=/cloudvision-apis/models/workspace.v1/>workspace.v1</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/aristanetworks/cloudvision-apis><i class='fab fa-github'></i> Github</a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/cloudvision-apis/></a>> <a href=/cloudvision-apis/examples/>Examples</a> > <a href=/cloudvision-apis/examples/rest/>REST API Examples</a> > Events</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#events>Events</a><ul><li><a href=#get-all-active-events>Get all active events</a><ul><li><a href=#curl>curl</a></li><li><a href=#cvprac>cvprac</a></li><li><a href=#python-requests>python requests</a></li></ul></li><li><a href=#get-a-specific-event>Get a specific event</a><ul><li><a href=#curl-1>curl</a></li><li><a href=#cvprac-1>cvprac</a></li><li><a href=#python-requests-1>python requests</a></li></ul></li><li><a href=#get-events-between-two-dates>Get events between two dates</a><ul><li><a href=#curl-2>curl</a></li><li><a href=#cvprac-2>cvprac</a></li><li><a href=#python-requests-2>python requests</a></li></ul></li><li><a href=#get-all-info-severity-events>Get all INFO severity events</a><ul><li><a href=#curl-3>curl</a></li><li><a href=#cvprac-3>cvprac</a></li><li><a href=#python-requests-3>python requests</a></li></ul></li><li><a href=#get-specific-event-types>Get specific event types</a><ul><li><a href=#curl-4>curl</a></li><li><a href=#cvprac-4>cvprac</a></li><li><a href=#python-requests-4>python requests</a></li></ul></li><li><a href=#get-all-low-device-disk-space-events-with-error-severity>Get all Low device disk space events with ERROR severity</a><ul><li><a href=#curl-5>curl</a></li></ul></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Events</h1><nav id=TableOfContents><ul><li><a href=#events>Events</a><ul><li><a href=#get-all-active-events>Get all active events</a><ul><li><a href=#curl>curl</a></li><li><a href=#cvprac>cvprac</a></li><li><a href=#python-requests>python requests</a></li></ul></li><li><a href=#get-a-specific-event>Get a specific event</a><ul><li><a href=#curl-1>curl</a></li><li><a href=#cvprac-1>cvprac</a></li><li><a href=#python-requests-1>python requests</a></li></ul></li><li><a href=#get-events-between-two-dates>Get events between two dates</a><ul><li><a href=#curl-2>curl</a></li><li><a href=#cvprac-2>cvprac</a></li><li><a href=#python-requests-2>python requests</a></li></ul></li><li><a href=#get-all-info-severity-events>Get all INFO severity events</a><ul><li><a href=#curl-3>curl</a></li><li><a href=#cvprac-3>cvprac</a></li><li><a href=#python-requests-3>python requests</a></li></ul></li><li><a href=#get-specific-event-types>Get specific event types</a><ul><li><a href=#curl-4>curl</a></li><li><a href=#cvprac-4>cvprac</a></li><li><a href=#python-requests-4>python requests</a></li></ul></li><li><a href=#get-all-low-device-disk-space-events-with-error-severity>Get all Low device disk space events with ERROR severity</a><ul><li><a href=#curl-5>curl</a></li></ul></li></ul></li></ul></nav><div class="notices tip"><p>To generate a service account token please refer to the <a href=../../../connecting/#token-based-authentication>authentication</a> chapter.</p></div><div class="notices tip"><p><a href=https://stedolan.github.io/jq/>jq</a> can be used to easily format and parse the outputs.</p></div><h1 id=events>Events</h1><h2 id=get-all-active-events>Get all active events</h2><h3 id=curl>curl</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sS -kX GET --header <span style=color:#e6db74>&#39;Accept: application/json&#39;</span> <span style=color:#e6db74>&#39;https://192.0.2.33/api/resources/event/v1/Event/all&#39;</span> -b access_token<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>cat token.tok<span style=color:#e6db74>`</span>
</span></span></code></pre></div><h3 id=cvprac>cvprac</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>event_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/resources/event/v1/Event/all&#39;</span>
</span></span><span style=display:flex><span>response <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>get(event_url)
</span></span></code></pre></div><h3 id=python-requests>python requests</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_events_all</span>():
</span></span><span style=display:flex><span>    event_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/resources/event/v1/Event/all&#39;</span>
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> cvp_url <span style=color:#f92672>+</span> event_url
</span></span><span style=display:flex><span>    head <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Authorization&#39;</span>: <span style=color:#e6db74>&#39;Bearer </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>format(token)}
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(url, headers<span style=color:#f92672>=</span>head, verify<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>    print(response<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>get_events_all()
</span></span></code></pre></div><h2 id=get-a-specific-event>Get a specific event</h2><h3 id=curl-1>curl</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sS -kX GET --header <span style=color:#e6db74>&#39;Accept: application/json&#39;</span> -b access_token<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>cat token.tok<span style=color:#e6db74>`</span> <span style=color:#e6db74>&#39;https://192.0.2.33/api/resources/event/v1/Event?key.key=6152f6160fc38f55&amp;key.timestamp=2021-03-23T13:38:59.295341290Z&#39;</span>
</span></span></code></pre></div><p>Result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>{
</span></span><span style=display:flex><span>   <span style=color:#e6db74>&#34;value&#34;</span>:{
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;key&#34;</span>:{
</span></span><span style=display:flex><span>         <span style=color:#e6db74>&#34;key&#34;</span>:<span style=color:#e6db74>&#34;6152f6160fc38f55&#34;</span>,
</span></span><span style=display:flex><span>         <span style=color:#e6db74>&#34;timestamp&#34;</span>:<span style=color:#e6db74>&#34;2021-03-23T13:38:59.295341290Z&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;severity&#34;</span>:<span style=color:#e6db74>&#34;EVENT_SEVERITY_ERROR&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;title&#34;</span>:<span style=color:#e6db74>&#34;Low Disk Volume Space Available&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;description&#34;</span>:<span style=color:#e6db74>&#34;Detected low disk space on volume /mnt/flash, 93.46756</span><span style=color:#e6db74>% o</span><span style=color:#e6db74>f space used&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;eventType&#34;</span>:<span style=color:#e6db74>&#34;LOW_DEVICE_DISK_SPACE&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;data&#34;</span>:{
</span></span><span style=display:flex><span>         <span style=color:#e6db74>&#34;data&#34;</span>:{
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;deviceId&#34;</span>:<span style=color:#e6db74>&#34;JPE15233329&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;threshold&#34;</span>:<span style=color:#e6db74>&#34;90&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;value&#34;</span>:<span style=color:#e6db74>&#34;93.46756&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;volume&#34;</span>:<span style=color:#e6db74>&#34;/mnt/flash&#34;</span>
</span></span><span style=display:flex><span>         }
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;components&#34;</span>:{
</span></span><span style=display:flex><span>         <span style=color:#e6db74>&#34;components&#34;</span>:[
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>               <span style=color:#e6db74>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;COMPONENT_TYPE_DEVICE&#34;</span>,
</span></span><span style=display:flex><span>               <span style=color:#e6db74>&#34;components&#34;</span>:{
</span></span><span style=display:flex><span>                  <span style=color:#e6db74>&#34;deviceId&#34;</span>:<span style=color:#e6db74>&#34;JPE15233329&#34;</span>
</span></span><span style=display:flex><span>               }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>         ]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>   },
</span></span><span style=display:flex><span>   <span style=color:#e6db74>&#34;time&#34;</span>:<span style=color:#e6db74>&#34;2021-03-25T14:37:00Z&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class="notices note"><p>The <code>time</code> key here shows the state of the resource at a given time,
<code>key.timestmap</code> is part of the key for that an event.</p></div><h3 id=cvprac-1>cvprac</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>event_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/resources/event/v1/Event?&#39;</span>
</span></span><span style=display:flex><span>url <span style=color:#f92672>=</span> event_url <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;key.key=&#39;</span> <span style=color:#f92672>+</span> key <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;key.timestamp=&#34;</span> <span style=color:#f92672>+</span> ts
</span></span><span style=display:flex><span>response <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>get(url)
</span></span></code></pre></div><h3 id=python-requests-1>python requests</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_event</span>(key, ts):
</span></span><span style=display:flex><span>    event_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/resources/event/v1/Event?&#39;</span>
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> cvp_url <span style=color:#f92672>+</span> event_url <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;key.key=&#39;</span> <span style=color:#f92672>+</span> key <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;key.timestamp=&#34;</span> <span style=color:#f92672>+</span> ts
</span></span><span style=display:flex><span>    head <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Authorization&#39;</span>: <span style=color:#e6db74>&#39;Bearer </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>format(token)}
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(url, headers<span style=color:#f92672>=</span>head, verify<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>    print(response<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>get_event(<span style=color:#e6db74>&#34;bf931ff01f5c5a2&#34;</span>,<span style=color:#e6db74>&#34;2021-04-01T18:14:53Z&#34;</span>)
</span></span></code></pre></div><h2 id=get-events-between-two-dates>Get events between two dates</h2><div class="notices note"><p>When fetching a state from NetDB between two arbitrary dates, the result returned will contain data that existed between those two dates and not just data that was created between those dates. For instance if BGP events are queried between 2021-03-24 09:00 and 2021-03-24 10:00 the result will contain events that were active in the range of 9 AM to 10 AM. If there were events that started before 9 AM and were not resolved (still active) at that time, the result will contain those events too.</p></div><h3 id=curl-2>curl</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sS -kX GET --header <span style=color:#e6db74>&#39;Accept: application/json&#39;</span> -b access_token<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>cat token.tok<span style=color:#e6db74>`</span> <span style=color:#e6db74>&#39;https://192.0.2.33/api/resources/event/v1/Event/all?time.start=2021-03-24T09:00:00Z&amp;time.end=2021-03-24T10:00:00Z&#39;</span>
</span></span></code></pre></div><p>Result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;result&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;value&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;key&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;key&#34;</span>: <span style=color:#e6db74>&#34;6a5eea29e5599b0&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;timestamp&#34;</span>: <span style=color:#e6db74>&#34;2021-02-04T23:19:22.809962243Z&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;severity&#34;</span>: <span style=color:#e6db74>&#34;EVENT_SEVERITY_WARNING&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Interface went down unexpectedly&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Interface Ethernet1 on JPE19332824 is no longer operationally active&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;eventType&#34;</span>: <span style=color:#e6db74>&#34;DEVICE_INTF_ERR_SMART&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE19332824&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;interfaceId&#34;</span>: <span style=color:#e6db74>&#34;Ethernet1&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;components&#34;</span>: [
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;COMPONENT_TYPE_INTERFACE&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE19332824&#34;</span>,
</span></span><span style=display:flex><span>              <span style=color:#e6db74>&#34;interfaceId&#34;</span>: <span style=color:#e6db74>&#34;Ethernet1&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;time&#34;</span>: <span style=color:#e6db74>&#34;2021-02-04T23:19:22.809962243Z&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;INITIAL&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;result&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;value&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;key&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;key&#34;</span>: <span style=color:#e6db74>&#34;6acbaa29e5b6002&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;timestamp&#34;</span>: <span style=color:#e6db74>&#34;2021-02-04T23:19:22.819264873Z&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;severity&#34;</span>: <span style=color:#e6db74>&#34;EVENT_SEVERITY_WARNING&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Interface went down unexpectedly&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Interface Ethernet3 on JPE19332824 is no longer operationally active&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;eventType&#34;</span>: <span style=color:#e6db74>&#34;DEVICE_INTF_ERR_SMART&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE19332824&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;interfaceId&#34;</span>: <span style=color:#e6db74>&#34;Ethernet3&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;components&#34;</span>: [
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;COMPONENT_TYPE_INTERFACE&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE19332824&#34;</span>,
</span></span><span style=display:flex><span>              <span style=color:#e6db74>&#34;interfaceId&#34;</span>: <span style=color:#e6db74>&#34;Ethernet3&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><h3 id=cvprac-2>cvprac</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>event_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/resources/event/v1/Event/all?&#39;</span>
</span></span><span style=display:flex><span>url <span style=color:#f92672>=</span> event_url <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;time.start=&#39;</span> <span style=color:#f92672>+</span> t1 <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;time.end=&#34;</span> <span style=color:#f92672>+</span> t2
</span></span><span style=display:flex><span>response <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>get(url)
</span></span></code></pre></div><h3 id=python-requests-2>python requests</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_events_t1_t2</span>(t1, t2):
</span></span><span style=display:flex><span>    event_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/resources/event/v1/Event/all?&#39;</span>
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> cvp_url <span style=color:#f92672>+</span> event_url <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;time.start=&#39;</span> <span style=color:#f92672>+</span> t1 <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;time.end=&#34;</span> <span style=color:#f92672>+</span> t2
</span></span><span style=display:flex><span>    head <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Authorization&#39;</span>: <span style=color:#e6db74>&#39;Bearer </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>format(token)}
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(url, headers<span style=color:#f92672>=</span>head, verify<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>    print(response<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>get_events_t1_t2(<span style=color:#e6db74>&#34;2021-03-24T09:00:00Z&#34;</span>, <span style=color:#e6db74>&#34;2021-03-24T10:00:00Z&#34;</span>)
</span></span></code></pre></div><h2 id=get-all-info-severity-events>Get all INFO severity events</h2><div class="notices note"><p>To apply filters on events, the POST method has to be used.</p></div><h3 id=curl-3>curl</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sS -kX POST --header <span style=color:#e6db74>&#39;Accept: application/json&#39;</span> -b access_token<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>cat token.tok<span style=color:#e6db74>`</span> -d <span style=color:#e6db74>&#39;{&#34;partialEqFilter&#34;: [{&#34;severity&#34;: 1}]}&#39;</span> <span style=color:#e6db74>&#39;https://192.0.2.33/api/resources/event/v1/Event/all&#39;</span>
</span></span></code></pre></div><p>Result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;result&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;value&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;key&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;key&#34;</span>: <span style=color:#e6db74>&#34;571d021ba26bbb96&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;timestamp&#34;</span>: <span style=color:#e6db74>&#34;2020-12-11T10:35:00Z&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;severity&#34;</span>: <span style=color:#e6db74>&#34;EVENT_SEVERITY_INFO&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;High PTP skew&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Detected high PTP skew (0)&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;eventType&#34;</span>: <span style=color:#e6db74>&#34;HIGH_PTP_SKEW&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE15233329&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;discovered&#34;</span>: <span style=color:#e6db74>&#34;true&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;threshold&#34;</span>: <span style=color:#e6db74>&#34;0.9&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;components&#34;</span>: [
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE15233329&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;time&#34;</span>: <span style=color:#e6db74>&#34;2020-12-11T10:35:00Z&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;INITIAL&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sS -kX POST --header <span style=color:#e6db74>&#39;Accept: application/json&#39;</span> -b access_token<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>cat token.tok<span style=color:#e6db74>`</span> -d <span style=color:#e6db74>&#39;{&#34;partialEqFilter&#34;: [{&#34;severity&#34;: &#34;EVENT_SEVERITY_INFO&#34;}]}&#39;</span> <span style=color:#e6db74>&#39;https://192.0.2.33/api/resources/event/v1/Event/all&#39;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sS -kX POST --header <span style=color:#e6db74>&#39;Accept: application/json&#39;</span> -b access_token<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>cat token.tok<span style=color:#e6db74>`</span> -d <span style=color:#e6db74>&#39;{&#34;partial_eq_filter&#34;: [{&#34;severity&#34;: 1}]}&#39;</span> <span style=color:#e6db74>&#39;https://192.0.2.33/api/resources/event/v1/Event/all&#39;</span>
</span></span></code></pre></div><h3 id=cvprac-3>cvprac</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>severity <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#75715e>## Severity INFO</span>
</span></span><span style=display:flex><span>payload <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;partialEqFilter&#34;</span>: [{<span style=color:#e6db74>&#34;severity&#34;</span>: severity }]}
</span></span><span style=display:flex><span>event_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/resources/event/v1/Event/all&#39;</span>
</span></span><span style=display:flex><span>response <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>post(event_url, data<span style=color:#f92672>=</span>payload)
</span></span></code></pre></div><h3 id=python-requests-3>python requests</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_events_by_severity</span>(severity):
</span></span><span style=display:flex><span>    payload <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;partialEqFilter&#34;</span>: [{<span style=color:#e6db74>&#34;severity&#34;</span>: severity }]}
</span></span><span style=display:flex><span>    event_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/resources/event/v1/Event/all&#39;</span>
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> cvp_url <span style=color:#f92672>+</span> event_url
</span></span><span style=display:flex><span>    head <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Authorization&#39;</span>: <span style=color:#e6db74>&#39;Bearer </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>format(token)}
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>post(url, headers<span style=color:#f92672>=</span>head, data<span style=color:#f92672>=</span>json<span style=color:#f92672>.</span>dumps(payload), verify<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>    print(response<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Get with string value</span>
</span></span><span style=display:flex><span>get_events_by_severity(<span style=color:#e6db74>&#34;EVENT_SEVERITY_INFO&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Get with enum value</span>
</span></span><span style=display:flex><span>get_events_by_severity(<span style=color:#ae81ff>1</span>)
</span></span></code></pre></div><h2 id=get-specific-event-types>Get specific event types</h2><h3 id=curl-4>curl</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sS -kX POST --header <span style=color:#e6db74>&#39;Accept: application/json&#39;</span> -b access_token<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>cat token.tok<span style=color:#e6db74>`</span> -d <span style=color:#e6db74>&#39;{&#34;partialEqFilter&#34;: [{&#34;eventType&#34;:&#34;LOW_DEVICE_DISK_SPACE&#34;}]}&#39;</span> <span style=color:#e6db74>&#39;https://192.0.2.33/api/resources/event/v1/Event/all&#39;</span>
</span></span></code></pre></div><p>Result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;result&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;value&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;key&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;key&#34;</span>: <span style=color:#e6db74>&#34;6152f6160fc38f55&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;timestamp&#34;</span>: <span style=color:#e6db74>&#34;2021-03-23T13:38:59.295341290Z&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;severity&#34;</span>: <span style=color:#e6db74>&#34;EVENT_SEVERITY_ERROR&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Low Disk Volume Space Available&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Detected low disk space on volume /mnt/flash, 93.46756</span><span style=color:#e6db74>% o</span><span style=color:#e6db74>f space used&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;eventType&#34;</span>: <span style=color:#e6db74>&#34;LOW_DEVICE_DISK_SPACE&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE15233329&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;threshold&#34;</span>: <span style=color:#e6db74>&#34;90&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;93.46756&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;volume&#34;</span>: <span style=color:#e6db74>&#34;/mnt/flash&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;components&#34;</span>: [
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;COMPONENT_TYPE_DEVICE&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE15233329&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;time&#34;</span>: <span style=color:#e6db74>&#34;2021-03-23T13:38:59.295341290Z&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;INITIAL&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=cvprac-4>cvprac</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>etype <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;LOW_DEVICE_DISK_SPACE&#34;</span>
</span></span><span style=display:flex><span>payload <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;partialEqFilter&#34;</span>: [{<span style=color:#e6db74>&#34;eventType&#34;</span>: etype }]}
</span></span><span style=display:flex><span>get_events_by_type <span style=color:#f92672>=</span> clnt<span style=color:#f92672>.</span>post(event_url, data<span style=color:#f92672>=</span>payload)
</span></span><span style=display:flex><span>print(get_events_by_type)
</span></span></code></pre></div><h3 id=python-requests-4>python requests</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_events_by_type</span>(etype):
</span></span><span style=display:flex><span>    payload <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;partialEqFilter&#34;</span>: [{<span style=color:#e6db74>&#34;eventType&#34;</span>: etype }]}
</span></span><span style=display:flex><span>    event_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/api/resources/event/v1/Event/all&#39;</span>
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> cvp_url <span style=color:#f92672>+</span> event_url
</span></span><span style=display:flex><span>    head <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Authorization&#39;</span>: <span style=color:#e6db74>&#39;Bearer </span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>format(token)}
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>post(url, headers<span style=color:#f92672>=</span>head, data<span style=color:#f92672>=</span>json<span style=color:#f92672>.</span>dumps(payload), verify<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>    print(response<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>get_events_by_type(<span style=color:#e6db74>&#34;LOW_DEVICE_DISK_SPACE&#34;</span>)
</span></span></code></pre></div><h2 id=get-all-low-device-disk-space-events-with-error-severity>Get all Low device disk space events with ERROR severity</h2><p>The <code>Low Disk Volume Space Available</code> events have two default rules (custom rules can be added):</p><ul><li>generate a WARNING event if a partition on EOS goes above 80%</li><li>generate an ERROR event if a partition on EOS goes above 90%</li></ul><p>To get only the ERROR events we can add the <code>severity</code> key to our filter.</p><h3 id=curl-5>curl</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sS -kX POST --header <span style=color:#e6db74>&#39;Accept: application/json&#39;</span> -b access_token<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>cat token.tok<span style=color:#e6db74>`</span> -d <span style=color:#e6db74>&#39;{&#34;partialEqFilter&#34;: [{&#34;eventType&#34;:&#34;LOW_DEVICE_DISK_SPACE&#34;,&#34;severity&#34;:&#34;EVENT_SEVERITY_ERROR&#34;}]}&#39;</span> <span style=color:#e6db74>&#39;https://192.0.2.33/api/resources/event/v1/Event/all&#39;</span>
</span></span></code></pre></div><p>Result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;result&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;value&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;key&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;key&#34;</span>: <span style=color:#e6db74>&#34;6152f6160fc38f55&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;timestamp&#34;</span>: <span style=color:#e6db74>&#34;2021-04-06T19:39:29.307757986Z&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;severity&#34;</span>: <span style=color:#e6db74>&#34;EVENT_SEVERITY_ERROR&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Low Disk Volume Space Available&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Detected low disk space on volume /mnt/flash, 93.46767</span><span style=color:#e6db74>% o</span><span style=color:#e6db74>f space used&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;eventType&#34;</span>: <span style=color:#e6db74>&#34;LOW_DEVICE_DISK_SPACE&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE15233329&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;threshold&#34;</span>: <span style=color:#e6db74>&#34;90&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;93.46767&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;volume&#34;</span>: <span style=color:#e6db74>&#34;/mnt/flash&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;components&#34;</span>: [
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;COMPONENT_TYPE_DEVICE&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#e6db74>&#34;deviceId&#34;</span>: <span style=color:#e6db74>&#34;JPE15233329&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;time&#34;</span>: <span style=color:#e6db74>&#34;2021-04-06T19:39:29.307757986Z&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;INITIAL&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class="notices note"><p>If the <code>partialEqFilter</code> would&rsquo;ve had two dictionaries inside the list, e.g.:
<code>[{"eventType":"LOW_DEVICE_DISK_SPACE"},{"severity":"EVENT_SEVERITY_ERROR"}]}'</code> the filtering
would&rsquo;ve used an OR operation instead of AND, meaning that all events that have
<code>eventType</code>=<code>"LOW_DEVICE_DISK_SPACE"</code> and all events that have ERROR severity would&rsquo;ve been printed.</p></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/cloudvision-apis/examples/rest/endpointlocation/ title=Endpointlocation><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/cloudvision-apis/examples/rest/inventory/ title=Inventory style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/cloudvision-apis/js/clipboard.min.js?1715208248></script><script src=/cloudvision-apis/js/perfect-scrollbar.min.js?1715208248></script><script src=/cloudvision-apis/js/perfect-scrollbar.jquery.min.js?1715208248></script><script src=/cloudvision-apis/js/jquery.sticky.js?1715208248></script><script src=/cloudvision-apis/js/featherlight.min.js?1715208248></script><script src=/cloudvision-apis/js/highlight.pack.js?1715208248></script><script>hljs.initHighlightingOnLoad()</script><script src=/cloudvision-apis/js/modernizr.custom-3.6.0.js?1715208248></script><script src=/cloudvision-apis/js/learn.js?1715208248></script><script src=/cloudvision-apis/js/hugo-learn.js?1715208248></script><link href=/cloudvision-apis/mermaid/mermaid.css?1715208248 rel=stylesheet><script src=/cloudvision-apis/mermaid/mermaid.js?1715208248></script><script>mermaid.initialize({startOnLoad:!0})</script></body></html>